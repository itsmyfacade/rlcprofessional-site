---
export const prerender = false;
import BaseLayout from "../layouts/BaseLayout.astro";
import Nav from "../components/Nav.astro";
import Hero from "../components/Hero.astro";
import Services from "../components/Services.astro";
import WhatsAppFab from "../components/WhatsAppFab.astro";
import Footer from "../components/Footer.astro";
import QuotesForm from "../components/QuotesForm.astro";

import site from "../content/site.json";
import { getT } from "../i18n/t";
import GalleryLive from "../components/GalleryLive.astro";
import LocalBusinessSchema from "../components/LocalBusinessSchema.astro";

const lang = "en";
const t = getT(lang);

// ✅ Normalize canonical (avoid duplicate indexing due to casing)
const canonical = "https://rlcprofessional.com/";
const title = site.meta.title;
const description = site.meta.description;
---

<BaseLayout
  lang={lang}
  title={title}
  description={description}
  canonical={canonical}
  ogImage={site.assets.ogImage}
>
  <Nav t={t} site={site} lang={lang} />
  <Hero t={t} site={site} />
  <Services t={t} />
  <QuotesForm t={t} formUrl={site.tallyFormUrlEn} />
  <GalleryLive t={t} site={site} lang={lang} />

  <Footer site={site} t={t} />
  <WhatsAppFab site={site} />

  <!-- ✅ Single source of truth for JSON-LD (avoid duplicate/conflicting schema scripts) -->
  <LocalBusinessSchema lang={lang} site={site} />
</BaseLayout>
---
