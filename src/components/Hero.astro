---
const { t, site } = Astro.props as { t: any; site: any };

// Safe contact fallback (won’t break if email missing)
const email = (site?.email || "").toString().trim();
const emailHref = email ? `mailto:${email}` : `tel:${site.phoneTel}`;

// ✅ Secondary phone (safe)
const phoneTel2 = (site?.phoneTel2 || "").toString().trim();
const phoneDisplay2 = (site?.phoneDisplay2 || "").toString().trim();
---

<section class="rlc-reveal is-in relative isolate overflow-hidden">
  <!-- Tool-heavy background image -->
  <div
    class="absolute inset-0 -z-20 bg-cover bg-center"
    style="background-image:url('/assets/hero-tools.jpg');"
    aria-hidden="true"
  ></div>

  <!-- Navy overlay -->
  <div
    class="absolute inset-0 -z-10"
    aria-hidden="true"
    style="
      background: linear-gradient(
        135deg,
        rgba(26, 43, 60, 0.82),
        rgba(26, 43, 60, 0.72)
      );
    "
  ></div>

  <!-- Subtle vignette/texture for legibility -->
  <div
    class="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_at_center,rgba(255,255,255,0.06),rgba(0,0,0,0.0)_55%,rgba(0,0,0,0.18)_100%)]"
    aria-hidden="true"
  ></div>

  <div class="mx-auto grid max-w-6xl gap-10 px-4 py-12 lg:grid-cols-2 lg:py-16">
    <!-- Left: Copy -->
    <div class="flex flex-col justify-center min-w-0">
      <div class="inline-flex w-fit items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold text-white ring-1 ring-white/15 backdrop-blur">
        <span class="h-2 w-2 rounded-full bg-accent-500"></span>
        {t.hero.badge}
      </div>

      <h1 class="mt-4 text-3xl font-extrabold tracking-tight text-white sm:text-5xl">
        {t.hero.title}
      </h1>

      <p class="mt-4 max-w-xl text-base leading-relaxed text-slate-200">
        {t.hero.subtitle}
      </p>

      <ul class="mt-5 grid gap-2 text-sm text-slate-200 sm:grid-cols-2">
        <li class="flex items-start gap-2">
          <span class="mt-0.5 inline-flex h-5 w-5 items-center justify-center rounded-full bg-white/10 text-white ring-1 ring-white/15">✓</span>
          {t.hero.bullets.b1}
        </li>
        <li class="flex items-start gap-2">
          <span class="mt-0.5 inline-flex h-5 w-5 items-center justify-center rounded-full bg-white/10 text-white ring-1 ring-white/15">✓</span>
          {t.hero.bullets.b2}
        </li>
        <li class="flex items-start gap-2">
          <span class="mt-0.5 inline-flex h-5 w-5 items-center justify-center rounded-full bg-white/10 text-white ring-1 ring-white/15">✓</span>
          {t.hero.bullets.b3}
        </li>
        <li class="flex items-start gap-2">
          <span class="mt-0.5 inline-flex h-5 w-5 items-center justify-center rounded-full bg-white/10 text-white ring-1 ring-white/15">✓</span>
          {t.hero.bullets.b4}
        </li>
      </ul>

      <!-- CTAs -->
      <div class="mt-6 flex flex-col gap-3 sm:flex-row sm:items-center">
        <a href="#quote" class="btn btn-accent w-full sm:w-auto py-3">
          {t.hero.cta}
        </a>
        <a href={`tel:${site.phoneTel}`} class="btn btn-outline-white w-full sm:w-auto py-3">
          {t.hero.callNow}
        </a>
      </div>

      <!-- Trust strip (no new i18n keys) -->
      <div class="mt-4 flex flex-wrap items-center gap-2">
        <span class="inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold text-white ring-1 ring-white/15 backdrop-blur">
          <span class="inline-block h-1.5 w-1.5 rounded-full bg-white/70"></span>
          {t.hero.bullets.b1}
        </span>
        <span class="inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold text-white ring-1 ring-white/15 backdrop-blur">
          <span class="inline-block h-1.5 w-1.5 rounded-full bg-white/70"></span>
          {t.hero.bullets.b2}
        </span>
        <span class="inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold text-white ring-1 ring-white/15 backdrop-blur">
          <span class="inline-block h-1.5 w-1.5 rounded-full bg-white/70"></span>
          {t.hero.bullets.b3}
        </span>
      </div>

      <p class="mt-4 text-xs text-slate-200/90">
        {t.hero.addressLine} • {t.hero.contactLinePrefix}{" "}
        <a class="underline decoration-white/40 hover:decoration-white" href={emailHref}>
          {email || site.phoneDisplay || site.phoneTel}
        </a>

        {phoneTel2 && phoneDisplay2 ? (
          <>
            {" "}•{" "}
            <a class="underline decoration-white/40 hover:decoration-white" href={`tel:${phoneTel2}`}>
              {phoneDisplay2}
            </a>
          </>
        ) : null}
      </p>
    </div>

    <!-- Right: Image + Card + Stats -->
    <div class="relative min-w-0">
      <div class="absolute -inset-6 -z-10 rounded-[2.5rem] bg-white/10 ring-1 ring-white/10 backdrop-blur"></div>

      <div class="rlc-hero-float overflow-hidden rounded-3xl bg-white shadow-soft ring-1 ring-slate-200/60">
        <div class="relative">
          <img
            src="/assets/hero.jpg"
            alt="RLC project photo"
            class="h-105 w-full object-cover sm:h-130"
            loading="eager"
            fetchpriority="high"
            decoding="async"
            width="1400"
            height="933"
          />
          <div class="absolute inset-0 bg-linear-to-t from-black/50 via-black/10 to-transparent"></div>

          <div class="absolute bottom-4 left-4 right-4">
            <div class="rounded-2xl bg-white/90 p-4 backdrop-blur ring-1 ring-white/40">
              <p class="text-sm font-extrabold text-brand-900">
                {t.hero.cardTitle}
              </p>
              <p class="mt-1 text-xs text-slate-700">
                {t.hero.cardSubtitle}
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-4 grid grid-cols-3 gap-2">
        <div class="rounded-2xl bg-white p-3 text-center shadow-soft ring-1 ring-slate-200/60">
          <p class="text-xs text-slate-600">{t.hero.stats.s1Label}</p>
          <p class="text-sm font-extrabold text-brand-900">{t.hero.stats.s1Value}</p>
        </div>
        <div class="rounded-2xl bg-white p-3 text-center shadow-soft ring-1 ring-slate-200/60">
          <p class="text-xs text-slate-600">{t.hero.stats.s2Label}</p>
          <p class="text-sm font-extrabold text-brand-900">{t.hero.stats.s2Value}</p>
        </div>
        <div class="rounded-2xl bg-white p-3 text-center shadow-soft ring-1 ring-slate-200/60">
          <p class="text-xs text-slate-600">{t.hero.stats.s3Label}</p>
          <p class="text-sm font-extrabold text-brand-900">{t.hero.stats.s3Value}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Small, premium motion (respects reduced motion). Keeps changes local to Hero. -->
  <style>
    @media (prefers-reduced-motion: reduce) {
      .rlc-hero-float {
        transform: none !important;
        animation: none !important;
      }
    }

    @media (prefers-reduced-motion: no-preference) {
      @keyframes rlcHeroFloat {
        0%   { transform: translateY(0px); }
        50%  { transform: translateY(-6px); }
        100% { transform: translateY(0px); }
      }
      .rlc-hero-float {
        animation: rlcHeroFloat 6.5s ease-in-out infinite;
        will-change: transform;
      }
    }
  </style>
</section>